.IFJcode24
DEFVAR GF@tmp1
DEFVAR GF@tmp2
DEFVAR GF@char
DEFVAR GF@char2
DEFVAR GF@valid
DEFVAR GF@trash
DEFVAR GF@index
DEFVAR GF@beg
CALL main
EXIT int@0
LABEL main
CREATEFRAME
PUSHFRAME
WRITE string@Zadejte\032cislo\032pro\032vypocet\032faktorialu:\032
READ GF@tmp1 int
PUSHS GF@tmp1
DEFVAR LF@inp$0
POPS LF@inp$0
PUSHS LF@inp$0
DEFVAR LF@defined$0
MOVE LF@defined$0 bool@false
POPS GF@tmp1
TYPE GF@tmp2 GF@tmp1
JUMPIFEQ $0 GF@tmp2 string@nil
JUMPIFEQ skipDefvar$0 LF@defined$0 bool@true
DEFVAR LF@INP$1
LABEL skipDefvar$0
MOVE LF@INP$1 GF@tmp1
PUSHS LF@INP$1
PUSHS int@0
LTS
JUMPIFEQ skipDefvar$1 LF@defined$0 bool@true
DEFVAR LF@defined$1
MOVE LF@defined$1 bool@false
LABEL skipDefvar$1
POPS GF@tmp1
JUMPIFNEQ $2 GF@tmp1 bool@true
WRITE string@Faktorial\032nelze\032spocitat!\010
MOVE LF@defined$1 bool@true
JUMPIFEQ skipDefvar$2 LF@defined$0 bool@true
DEFVAR LF@defined$2
MOVE LF@defined$2 bool@false
LABEL skipDefvar$2
JUMP $3
LABEL $2
JUMPIFEQ skipDefvar$3 LF@defined$0 bool@true
DEFVAR LF@defined$2
MOVE LF@defined$2 bool@false
LABEL skipDefvar$3
PUSHS LF@INP$1
CALL factorial
JUMPIFEQ skipDefvar$4 LF@defined$2 bool@true
DEFVAR LF@vysl$2
LABEL skipDefvar$4
POPS LF@vysl$2
WRITE string@Vysledek:\032
WRITE LF@vysl$2
MOVE LF@defined$2 bool@true
LABEL $3
MOVE LF@defined$0 bool@true
DEFVAR LF@defined$3
MOVE LF@defined$3 bool@false
JUMP $1
LABEL $0
DEFVAR LF@defined$3
MOVE LF@defined$3 bool@false
WRITE string@Chyba\032pri\032nacitani\032celeho\032cisla!\010
MOVE LF@defined$3 bool@true
LABEL $1
POPFRAME
RETURN
LABEL decrement
CREATEFRAME
PUSHFRAME
DEFVAR LF@m$4
POPS LF@m$4
DEFVAR LF@n$3
POPS LF@n$3
PUSHS LF@n$3
PUSHS LF@m$4
SUBS
POPFRAME
RETURN
POPFRAME
RETURN
LABEL factorial
CREATEFRAME
PUSHFRAME
DEFVAR LF@n$5
POPS LF@n$5
PUSHS int@0
PUSHS int@1
SUBS
DEFVAR LF@result$6
POPS LF@result$6
PUSHS LF@n$5
PUSHS int@2
LTS
DEFVAR LF@defined$4
MOVE LF@defined$4 bool@false
POPS GF@tmp1
JUMPIFNEQ $4 GF@tmp1 bool@true
PUSHS int@1
POPS LF@result$6
MOVE LF@defined$4 bool@true
DEFVAR LF@defined$5
MOVE LF@defined$5 bool@false
JUMP $5
LABEL $4
DEFVAR LF@defined$5
MOVE LF@defined$5 bool@false
PUSHS LF@n$5
PUSHS int@1
CALL decrement
JUMPIFEQ skipDefvar$5 LF@defined$5 bool@true
DEFVAR LF@decremented_n$7
LABEL skipDefvar$5
POPS LF@decremented_n$7
PUSHS LF@decremented_n$7
CALL factorial
JUMPIFEQ skipDefvar$6 LF@defined$5 bool@true
DEFVAR LF@temp_result$8
LABEL skipDefvar$6
POPS LF@temp_result$8
PUSHS LF@n$5
PUSHS LF@temp_result$8
MULS
POPS LF@result$6
MOVE LF@defined$5 bool@true
LABEL $5
PUSHS LF@result$6
POPFRAME
RETURN
POPFRAME
RETURN
